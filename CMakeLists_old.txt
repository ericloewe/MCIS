cmake_minimum_required(VERSION 3.9)

project(mbtest)

set(CMAKE_BINARY_DIR ${CMAKE_SOURCE_DIR})
set(EXECUTABLE_OUTPUT_PATH ${CMAKE_BINARY_DIR})
set(PROJECT_SOURCE_DIR ${CMAKE_SOURCE_DIR}/src)
SET(LIBRARY_OUTPUT_PATH ${PROJECT_BINARY_DIR})

#set(LINK_FLAGS "-lpthread -lncurses")


set(CMAKE_BUILD_TYPE Debug)

include_directories("${PROJECT_SOURCE_DIR}/include")

add_executable(mbtest ${PROJECT_SOURCE_DIR}/mbtest.cpp)

target_compile_features(mbtest PUBLIC cxx_std_11)

#set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} ${LINK_FLAGS}")

target_link_libraries(mbtest -lpthread -lncurses)

target_sources(mbtest PRIVATE ${PROJECT_SOURCE_DIR}/crc.c)
target_sources(mbtest PRIVATE ${PROJECT_SOURCE_DIR}/discreteMath.cpp)
target_sources(mbtest PRIVATE ${PROJECT_SOURCE_DIR}/MCIS_config.cpp)
target_sources(mbtest PRIVATE ${PROJECT_SOURCE_DIR}/MCIS_fileio.cpp)
target_sources(mbtest PRIVATE ${PROJECT_SOURCE_DIR}/MCIS_MB_interface.cpp)
target_sources(mbtest PRIVATE ${PROJECT_SOURCE_DIR}/MCIS_MDA.cpp)
target_sources(mbtest PRIVATE ${PROJECT_SOURCE_DIR}/MCIS_xplane_sock.cpp)

add_executable(MCIS-offline ${PROJECT_SOURCE_DIR}/MCIS-offline.cpp)

target_compile_features(MCIS-offline PUBLIC cxx_std_11)
target_sources(MCIS-offline PRIVATE ${PROJECT_SOURCE_DIR}/crc.c)
target_sources(MCIS-offline PRIVATE ${PROJECT_SOURCE_DIR}/discreteMath.cpp)
target_sources(MCIS-offline PRIVATE ${PROJECT_SOURCE_DIR}/MCIS_config.cpp)
target_sources(MCIS-offline PRIVATE ${PROJECT_SOURCE_DIR}/MCIS_fileio.cpp)
target_sources(MCIS-offline PRIVATE ${PROJECT_SOURCE_DIR}/MCIS_MDA.cpp)